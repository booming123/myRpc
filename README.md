### 自定义RPC框架 

基于Netty和zookeeper

### 负载均衡策略

我们引入了三种负载均衡策略：**轮询**、**随机** 和 **哈希一致性**。在这三种策略中，我们重点使用了 **哈希一致性** 策略。

#### 哈希一致性策略
1. **哈希环**：我们将所有服务节点放入哈希环中，确保请求能被均匀分配到不同的节点上。
2. **虚拟节点**：为了增强哈希环的均匀性和可扩展性，我们为每个真实的服务节点添加了 `*VIRTUAL_NUM*` 个虚拟节点。
3. **虚拟节点映射**：虚拟节点的哈希值作为 `SortedMap` 的 **key**，虚拟节点服务器名称作为 **value** 存放在 `SortedMap` 中。`SortedMap` 会根据哈希值自动排序。
4. **查询机制**：使用 `tailMap(key)` 方法可以查询大于给定哈希值的所有虚拟节点。这样我们可以高效地查找比某个节点哈希值大的虚拟节点。

#### 增强哈希分布
为了确保哈希值的均匀分布、增强雪崩效应，并避免哈希冲突，我们添加了扰动值。具体来说，扰动值通过额外的位运算来增加哈希计算的复杂度，使得即使输入数据有细微变化，最终的哈希值也会发生显著变化，从而增强哈希环的分布性和随机性。

这些方法有助于避免节点间负载不均的问题，并且确保即使在节点增加或删除的情况下，哈希环的整体性能和稳定性不会受到过大影响。

### 重试策略

使用**guavaRetry**实现。

